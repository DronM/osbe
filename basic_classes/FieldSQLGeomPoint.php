<?phprequire_once(FRAME_WORK_PATH.'basic_classes/FieldSQL.php');require_once(FRAME_WORK_PATH.'Constants.php');class FieldSQLGeomPoint extends FieldSQL{	public function __construct($dbLink,$dbName, $tableName,					$id, $options=false) {		parent::__construct($dbLink,$dbName, $tableName,				$id, DT_GEOM_POLYGON,$options);	}    public function getValueForDb(){		$val = parent::getValueForDb();		$formated = null;		FieldSQLGeomPoint::formatForDb($val,$formated);		return $formated;    }    public static function formatForDb($valIn,&$valOut){		if (is_null($valIn)||$valIn==''){			$valOut='null';			return;		}			$point = explode(' ',$valIn);		if (count($point)==2){			$valOut = sprintf("ST_GeomFromText('POINT(%f %f)',4326)",				$point[0],$point[1]);		}		    }	}?>